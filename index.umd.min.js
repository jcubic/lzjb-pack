!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).lzjb={})}(this,(function(e){"use strict";const n="@lzjb",t=new TextEncoder("utf-8").encode(n);e.pack=function(e){const n=new Uint8Array(Math.max(1.5*e.length|0,16384)),r=function(e,n){var t,r=0,o=0,l=0,f=0,i=128,c=0,s=0,u=0,h=new Int32Array(256),a=0;for(a=0;a<256;a++)h[a]=-858993460;for(t=e.length;r<t;)if(256==(i<<=1)&&(i=1,f=o,n[o++]=0),r>t-66)n[o++]=e[r++];else if(s=r-h[u=255&(e[r]+13^e[r+1]-13^e[r+2])]&1023,h[u]=r,(l=r-s)>=0&&l!=r&&e[r]==e[l]&&e[r+1]==e[l+1]&&e[r+2]==e[l+2]){for(n[f]|=i,c=3;c<66&&e[r+c]==e[l+c];c++);n[o++]=c-3<<2|s>>8,n[o++]=s,r+=c}else n[o++]=e[r++];return console.assert(e.length>=r),o}(e,n),o=function(e){const n=Math.ceil(Math.log2(e)/8),t=new Uint8Array(n);for(let n=0;n<t.length;n++){const r=255&e;t[n]=r,e=(e-r)/256}return t}(e.length);return function(...e){if(e.length>1){const n=e.reduce(((e,n)=>e+n.length),0),t=new Uint8Array(n);let r=0;return e.forEach((e=>{t.set(e,r),r+=e.length})),t}if(e.length)return e[0]}(t,Uint8Array.of(o.length),o,n.slice(0,r))},e.unpack=function(e){if(new TextDecoder("utf-8").decode(e.slice(0,t.length))!==n)throw new Error("Invalid magic value");const r=e[t.length],o=t.length+1,l=t.length+r+1,f=function(e){let n=0;for(let t=e.length-1;t>=0;t--)n=256*n+e[t];return n}(e.slice(o,l));e=e.slice(l);const i=new Uint8Array(f);return function(e,n,t){n|=0;for(var r=0,o=0,l=0,f=0,i=128,c=0,s=0;r<n;)if(256==(i<<=1)&&(i=1,f=e[r],r=r+1|0),f&i){for(c=3+(e[r]>>2)|0,s=1023&(e[r]<<8|e[r+1|0]),r=r+2|0,l=o-s|0;c>4;)t[o]=t[l],l=l+1|0,t[o=o+1|0]=t[l],l=l+1|0,t[o=o+1|0]=t[l],l=l+1|0,t[o=o+1|0]=t[l],o=o+1|0,l=l+1|0,c=c-4|0;for(;c>0;)t[o]=t[l],o=o+1|0,l=l+1|0,c=c-1|0}else t[o]=e[r],o=o+1|0,r=r+1|0}(e,e.length,i),i},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
